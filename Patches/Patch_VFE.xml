<?xml version="1.0" encoding="utf-8"?>
<Patch>
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Vanilla Furniture Expanded</li>
    </mods>
    <match Class="PatchOperationSequence">
      <success>Always</success>
      <operations>
        <!--Patch for only VFE-Core(Players)-->
        <li Class="PatchOperationAdd">
          <xpath>/Defs/RoyalTitleDef[defName="Esquire" or defName="Knight" or defName="Praetor"]/bedroomRequirements/li[@Class="RoomRequirement_ThingAnyOf"]/things</xpath>
          <value>
            <li>Bed_DoubleErgonomic</li>
            <li>Bed_Kingsize</li>
          </value>
        </li>
        <li Class="PatchOperationAdd">
          <xpath>/Defs/RoyalTitleDef[defName="Baron" or defName="Count"]/bedroomRequirements/li[@Class="RoomRequirement_ThingAnyOf"]/things</xpath>
          <value>
            <li>Bed_Kingsize</li>
          </value>
        </li>
        <!--Patch for only VFE-Core(NPC)-->
        <li Class="PatchOperationAdd">
          <xpath>/Defs/RoyalTitleDef[@Name="BaseEmpireTitleNPC"]/bedroomRequirements/li[@Class="RoomRequirement_ThingAnyOf"]/things</xpath>
          <value>
            <li>Bed_Kingsize</li>
          </value>
        </li>
        <li Class="PatchOperationRemove">
          <xpath>/Defs/RoyalTitleDef[defName="Knight" or defName="Praetor" or defName="Baron" or defName="Count"]/bedroomRequirements/li[@Class="RoomRequirement_Thing"]</xpath>
        </li>
        <li Class="PatchOperationRemove">
          <xpath>/Defs/RoyalTitleDef[@Name="BaseEmpireTitleNPC"]/bedroomRequirements/li[@Class="RoomRequirement_Thing"]</xpath>
        </li>
        <li Class="PatchOperationAdd">
          <xpath>/Defs/RoyalTitleDef[defName="Knight" or defName="Praetor" or defName="Baron" or defName="Count"]/bedroomRequirements</xpath>
          <value>
            <li Class="RoomRequirement_ThingAnyOf">
              <things>
                <li>EndTable</li>
                <li>Table_RoyalEndTable</li>
              </things>
            </li>
          </value>
        </li>
        <li Class="PatchOperationAdd">
          <xpath>/Defs/RoyalTitleDef[@Name="BaseEmpireTitleNPC"]/bedroomRequirements</xpath>
          <value>
            <li Class="RoomRequirement_ThingAnyOf">
              <things>
                <li>EndTable</li>
                <li>Table_RoyalEndTable</li>
              </things>
            </li>
          </value>
        </li>
        <li Class="PatchOperationAdd">
          <xpath>/Defs/RoyalTitleDef[defName="Knight" or defName="Praetor" or defName="Baron" or defName="Count"]/bedroomRequirements</xpath>
          <value>
            <li Class="RoomRequirement_ThingAnyOf">
              <things>
                <li>Dresser</li>
                <li>Table_RoyalDresser</li>
              </things>
            </li>
          </value>
        </li>
        <li Class="PatchOperationAdd">
          <xpath>/Defs/RoyalTitleDef[@Name="BaseEmpireTitleNPC"]/bedroomRequirements</xpath>
          <value>
            <li Class="RoomRequirement_ThingAnyOf">
              <things>
                <li>Dresser</li>
                <li>Table_RoyalDresser</li>
              </things>
            </li>
          </value>
        </li>
        <!--Checked VFE-Spacer-->
        <li Class="PatchOperationTest">
          <xpath>/Defs/ThingDef[defName="Bed_AdvDoubleBed"]</xpath>
        </li>
        <!--VFE-Spacer Patch(Players)-->
        <li Class="PatchOperationAdd">
          <xpath>/Defs/RoyalTitleDef[defName="Esquire" or defName="Knight" or defName="Praetor" or defName="Baron" or defName="Count"]/bedroomRequirements/li[@Class="RoomRequirement_ThingAnyOf"]/things[li="DoubleBed" or li="RoyalBed"]</xpath>
          <value>
            <li>Bed_AdvDoubleBed</li>
          </value>
        </li>
        <!--VFE-Spacer Patch(NPC)-->
        <li Class="PatchOperationAdd">
          <xpath>/Defs/RoyalTitleDef[@Name="BaseEmpireTitleNPC"]/bedroomRequirements/li[@Class="RoomRequirement_ThingAnyOf"]/things[li="RoyalBed"]</xpath>
          <value>
            <li>Bed_AdvDoubleBed</li>
          </value>
        </li>
        <li Class="PatchOperationAdd">
          <xpath>/Defs/RoyalTitleDef[defName="Knight" or defName="Praetor" or defName="Baron" or defName="Count"]/bedroomRequirements/li[@Class="RoomRequirement_ThingAnyOf"]/things[li="EndTable"]</xpath>
          <value>
            <li>Table_IlluminatedEndTable</li>
          </value>
        </li>
        <li Class="PatchOperationAdd">
          <xpath>/Defs/RoyalTitleDef[@Name="BaseEmpireTitleNPC"]/bedroomRequirements/li[@Class="RoomRequirement_ThingAnyOf"]/things[li="EndTable"]</xpath>
          <value>
            <li>Table_IlluminatedEndTable</li>
          </value>
        </li>
        <li Class="PatchOperationAdd">
          <xpath>/Defs/RoyalTitleDef[defName="Knight" or defName="Praetor" or defName="Baron" or defName="Count"]/bedroomRequirements/li[@Class="RoomRequirement_ThingAnyOf"]/things[li="Dresser"]</xpath>
          <value>
            <li>Table_IlluminatedDresser</li>
          </value>
        </li>
        <li Class="PatchOperationAdd">
          <xpath>/Defs/RoyalTitleDef[@Name="BaseEmpireTitleNPC"]/bedroomRequirements/li[@Class="RoomRequirement_ThingAnyOf"]/things[li="Dresser"]</xpath>
          <value>
            <li>Table_IlluminatedDresser</li>
          </value>
        </li>
      </operations>
    </match>
  </Operation>
</Patch>
